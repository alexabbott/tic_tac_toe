<!DOCTYPE html>
<html>
<head>
	<title>Tic Tac Toe</title>
	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=VT323">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular.min.js"></script>
	<script src="main.js"></script>
</head>
<body ng-app="toeApp">
	<header ng-controller="headerCtrl">TIC TAC TOE</header>

	<div id="wrapper" ng-controller="gameCtrl">
		<div class="box" id="box1" onclick="boxClicked(1)">1</div>
		<div class="box" id="box2" onclick="boxClicked(2)">2</div>
		<div class="box" id="box3" onclick="boxClicked(3)">3</div>
		<div class="box" id="box4" onclick="boxClicked(4)">4</div>
		<div class="box" id="box5" onclick="boxClicked(5)">5</div>
		<div class="box" id="box6" onclick="boxClicked(6)">6</div>
		<div class="box" id="box7" onclick="boxClicked(7)">7</div>
		<div class="box" id="box8" onclick="boxClicked(8)">8</div>
		<div class="box" id="box9" onclick="boxClicked(9)">9</div>
	</div>

	<a href="index.html"><div id="reset">RESET GAME</div></a>
	
	<script>
	// instantiate empty arrays for playerX and player0
	var playerX = [];
	var playerO = [];
	var winCombos = [[1,2,3],[4,5,6],[7,8,9],[1,4,7],[2,5,8],[3,6,9],[1,5,9],[3,5,7]];


	// run this function on any box that is clicked
	var boxClicked = function(i) {
		if (playerX.length == 0 && playerO.length == 0) {
			var eachBox = document.getElementById('box' + i);
			var num = Number(eachBox.innerHTML);
			playerX.push(num);
			eachBox.innerHTML = "X";
			eachBox.style.pointerEvents = "none";
		}
		else if (playerX.length == 1 && playerO.length == 0) {
			var eachBox = document.getElementById('box' + i);
			var num = Number(eachBox.innerHTML);
			playerO.push(num);
			eachBox.innerHTML = "O";
			eachBox.style.pointerEvents = "none";
			playerO.sort();
		}
		else if (playerX.length == 1 && playerX.length == 1) {
			var eachBox = document.getElementById('box' + i);
			var num = Number(eachBox.innerHTML);
			playerX.push(num);
			eachBox.innerHTML = "X";
			eachBox.style.pointerEvents = "none";
			playerX.sort();
		}
		else if (playerX.length == 2 && playerO.length == 1) {
			var eachBox = document.getElementById('box' + i);
			var num = Number(eachBox.innerHTML);
			playerO.push(num);
			eachBox.innerHTML = "O";
			eachBox.style.pointerEvents = "none";
			playerO.sort();
		}
		else if (playerX.length == 2 && playerO.length == 2) {
			var eachBox = document.getElementById('box' + i);
			var num = Number(eachBox.innerHTML);
			playerX.push(num);
			eachBox.innerHTML = "X";
			eachBox.style.pointerEvents = "none";
			playerX.sort();
			for(var i = 0; i < winCombos.length; i++) {
			    if ( playerX.indexOf(winCombos[i][0]) >= 0 ) {
			        if ( playerX.indexOf(winCombos[i][1]) >= 0 ) {
			            if ( playerX.indexOf(winCombos[i][2]) >= 0 ) {
			            alert("Congrats, X wins!");
			        return true;
			            }
			       }
			    }
			}
		}
		else if (playerX.length == 3 && playerO.length == 2) {
			var eachBox = document.getElementById('box' + i);
			var num = Number(eachBox.innerHTML);
			playerO.push(num);
			eachBox.innerHTML = "O";
			eachBox.style.pointerEvents = "none";
			playerO.sort();
			for(var i = 0; i < winCombos.length; i++) {
			    if ( playerO.indexOf(winCombos[i][0]) >= 0 ) {
			        if ( playerO.indexOf(winCombos[i][1]) >= 0 ) {
			            if ( playerO.indexOf(winCombos[i][2]) >= 0 ) {
			            alert("Congrats, O wins!");
			        return true;
			            }
			       }
			    }
			}
		}
		else if (playerX.length == 3 && playerO.length == 3) {
			var eachBox = document.getElementById('box' + i);
			var num = Number(eachBox.innerHTML);
			playerX.push(num);
			eachBox.innerHTML = "X";
			eachBox.style.pointerEvents = "none";
			playerX.sort();
			for(var i = 0; i < winCombos.length; i++) {
			    if ( playerX.indexOf(winCombos[i][0]) >= 0 ) {
			        if ( playerX.indexOf(winCombos[i][1]) >= 0 ) {
			            if ( playerX.indexOf(winCombos[i][2]) >= 0 ) {
			            alert("Congrats, X wins!");
			        return true;
			            }
			       }
			    }
			}
		}
		else if (playerX.length == 4 && playerO.length == 3) {
			var eachBox = document.getElementById('box' + i);
			var num = Number(eachBox.innerHTML);
			playerO.push(num);
			eachBox.innerHTML = "O";
			eachBox.style.pointerEvents = "none";
			playerO.sort();
			for(var i = 0; i < winCombos.length; i++) {
			    if ( playerO.indexOf(winCombos[i][0]) >= 0 ) {
			        if ( playerO.indexOf(winCombos[i][1]) >= 0 ) {
			            if ( playerO.indexOf(winCombos[i][2]) >= 0 ) {
			            alert("Congrats, O wins!");
			        return true;
			            }
			       }
			    }
			}
		}
		else if (playerX.length == 4 && playerO.length == 4) {
			var eachBox = document.getElementById('box' + i);
			var num = Number(eachBox.innerHTML);
			playerX.push(num);
			eachBox.innerHTML = "X";
			eachBox.style.pointerEvents = "none";
			playerX.sort();
			for(var i = 0; i < winCombos.length; i++) {
			    if ( playerX.indexOf(winCombos[i][0]) >= 0 ) {
			        if ( playerX.indexOf(winCombos[i][1]) >= 0 ) {
			            if ( playerX.indexOf(winCombos[i][2]) >= 0 ) {
			            alert("Congrats, X wins!");
			        return true;
			            }
			       }
			    }
			}
			alert("It's a Draw.");
		}
		else {
			console.log("Game Over");
		}
	};

	</script>

</body>
</html>